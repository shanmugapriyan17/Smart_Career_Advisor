<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume Analyzer - Smart Career Advisor</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script>
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
    </script>
</head>
<body>
    <header class="header">
        <div class="header-container">
            <div class="logo">
                <svg class="logo-icon" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="20" cy="20" r="18" fill="none" stroke="currentColor" stroke-width="2"/>
                    <path d="M20 8 L28 20 L20 32 L12 20 Z" fill="currentColor" opacity="0.8"/>
                </svg>
                <span class="logo-text">Smart Career Advisor</span>
            </div>
            <nav class="nav">
                <a href="index.html" class="nav-link">Home</a>
                <a href="dashboard.html" class="nav-link">Dashboard</a>
                <a href="resume_analyzer.html" class="nav-link">Resume Analyzer</a>
                <a href="about.html" class="nav-link">About Us</a>
            </nav>
            <div class="header-actions">
                <button class="icon-btn search-btn" id="searchBtn" title="Search" aria-label="Search">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                </button>
                <button class="icon-btn settings-btn" id="settingsBtn" title="Settings" aria-label="Settings">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path d="M12 1v6m0 6v6M4.22 4.22l4.24 4.24m3.08 3.08l4.24 4.24M1 12h6m6 0h6m-15.78 7.78l4.24-4.24m3.08-3.08l4.24-4.24"></path>
                    </svg>
                </button>
                <button class="hamburger-btn" id="hamburgerBtn" title="Menu" aria-label="Menu" aria-expanded="false">
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                    <span class="hamburger-line"></span>
                </button>
            </div>
        </div>
        <nav class="nav-mobile" id="navMobile">
            <a href="index.html" class="nav-link mobile-nav-link">Home</a>
            <a href="dashboard.html" class="nav-link mobile-nav-link">Dashboard</a>
            <a href="resume_analyzer.html" class="nav-link mobile-nav-link">Resume Analyzer</a>
            <a href="about.html" class="nav-link mobile-nav-link">About Us</a>
        </nav>
    </header>

    <div class="modal" id="searchModal">
        <div class="modal-overlay"></div>
        <div class="modal-content search-modal">
            <button class="modal-close" id="searchClose" style="top: 1rem; right: 1rem; z-index: 10;">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
            <h3>Search</h3>
            <input type="text" class="search-input" id="searchInput" placeholder="Search jobs, skills, roles..." autofocus>
            <div class="search-suggestions">
                <div class="suggestion-chip" data-query="Data Scientist">Data Scientist</div>
                <div class="suggestion-chip" data-query="Frontend Developer">Frontend Developer</div>
                <div class="suggestion-chip" data-query="Machine Learning">Machine Learning</div>
            </div>
        </div>
    </div>

    <div class="settings-overlay" id="settingsOverlay" style="display: none;"></div>
    <div class="popover" id="settingsPopover" style="display: none;">
        <div class="popover-content">
            <h4 id="greetingText">Hello, Guest</h4>
            <div class="theme-section">
                <label>Theme:</label>
                <div class="theme-options">
                    <label class="radio-label">
                        <input type="radio" name="theme" value="light" id="themeLight">
                        <span>Light Mode</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="theme" value="dark" id="themeDark">
                        <span>Dark Mode</span>
                    </label>
                    <label class="radio-label">
                        <input type="radio" name="theme" value="system" id="themeSystem" checked>
                        <span>System Default</span>
                    </label>
                </div>
            </div>
            <div id="profileSection" style="display: none;">
                <hr>
                <div class="profile-card-container">
                    <button class="profile-card-button" id="profileCardBtn" type="button">
                        <div class="profile-avatar-small" id="settingsAvatarContainer">
                            <img id="settingsAvatar" src="" alt="Avatar" style="display: none;">
                        </div>
                        <div class="profile-info-small">
                            <p class="profile-username" id="settingsUsername">User</p>
                            <p class="profile-email" id="settingsEmail">email@example.com</p>
                        </div>
                    </button>
                    <a href="#" class="logout-btn" id="logoutBtn">Logout</a>
                </div>
            </div>
            <div id="authLinks" class="auth-links">
                <button class="btn-link" id="loginBtn">Login</button>
                <button class="btn-link" id="signupBtn">Create Account</button>
            </div>
        </div>
    </div>

    <main class="main">
        <div class="resume-analyzer-container">
            <h1>Resume Analyzer</h1>
            <p class="subtitle">Upload your resume and get instant AI-powered career insights</p>

            <div class="analyzer-tabs">
                <div class="tab-navigation">
                    <button class="tab-btn active" data-tab="step1">
                        <span class="tab-number">1</span>
                        <span class="tab-label">Upload Resume</span>
                    </button>
                    <button class="tab-btn" data-tab="step2" disabled>
                        <span class="tab-number">2</span>
                        <span class="tab-label">Extract Skills</span>
                    </button>
                    <button class="tab-btn" data-tab="step3" disabled>
                        <span class="tab-number">3</span>
                        <span class="tab-label">Career Prediction</span>
                    </button>
                </div>

                <div class="tab-content active" id="step1">
                    <div class="analyzer-card">
                        <h2>Step 1: Upload Your Resume</h2>
                        <p>Upload a PDF or TXT file containing your resume. The system will extract skills and analyze your career fit.</p>

                        <div class="upload-area">
                            <label for="resumeFile" class="upload-box large">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                    <polyline points="17 8 12 3 7 8"></polyline>
                                    <line x1="12" y1="3" x2="12" y2="15"></line>
                                </svg>
                                <h3>Drop your resume here</h3>
                                <p>or click to browse (PDF or TXT, max 5MB)</p>
                            </label>
                            <input type="file" id="resumeFile" style="display: none;" accept=".pdf,.txt">
                        </div>

                        <div id="uploadStatus" style="display: none;" class="upload-status">
                            <div class="spinner"></div>
                            <p>Processing your resume...</p>
                        </div>

                        <div id="uploadSuccess" style="display: none;" class="upload-success">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"></polyline>
                            </svg>
                            <p>Resume uploaded successfully! Click Next to continue.</p>
                        </div>

                        <div class="tab-actions">
                            <button class="btn btn-primary" id="nextStep1" style="display: none;">Next Step</button>
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="step2">
                    <div class="analyzer-card">
                        <h2>Step 2: Extracted Skills</h2>
                        <p>These are the key skills detected from your resume. You can edit them if needed.</p>

                        <div class="skills-section">
                            <h4>Identified Skills</h4>
                            <div id="skillsExtraction" class="skills-tags">
                                <p class="loading-msg">Loading skills...</p>
                            </div>
                        </div>

                        <div class="resume-preview-section">
                            <h4>Resume Text Preview</h4>
                            <div class="preview-box" id="resumePreview"></div>
                        </div>

                        <div class="tab-actions">
                            <button class="btn btn-secondary" id="backStep2">Back</button>
                            <button class="btn btn-primary" id="nextStep2">Analyze & Predict</button>
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="step3">
                    <div class="analyzer-card">
                        <h2>Step 3: Career Prediction Analysis</h2>

                        <div class="model-comparison">
                            <h3>AI Model Predictions</h3>
                            <p class="comparison-subtitle">Comparing multiple machine learning models for career fit</p>

                            <div class="model-cards">
                                <div class="model-card">
                                    <div class="model-header">
                                        <h4>SVM Model</h4>
                                        <span class="model-badge">Support Vector Machine</span>
                                    </div>
                                    <div class="model-result">
                                        <p class="model-role" id="svmRole">-</p>
                                        <p class="model-confidence" id="svmConfidence">-</p>
                                    </div>
                                </div>

                                <div class="model-card">
                                    <div class="model-header">
                                        <h4>Random Forest Model</h4>
                                        <span class="model-badge">Ensemble Learning</span>
                                    </div>
                                    <div class="model-result">
                                        <p class="model-role" id="rfRole">-</p>
                                        <p class="model-confidence" id="rfConfidence">-</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="top-roles-section">
                            <h3>Top 3 Recommended Roles</h3>
                            <div class="roles-list">
                                <div class="role-item rank-1">
                                    <div class="rank-badge">1</div>
                                    <div class="role-info">
                                        <p class="role-name" id="topRole1">-</p>
                                        <div class="role-bar">
                                            <div class="role-fill" id="topScore1"></div>
                                        </div>
                                        <p class="role-confidence" id="topConf1">-</p>
                                    </div>
                                </div>
                                <div class="role-item rank-2">
                                    <div class="rank-badge">2</div>
                                    <div class="role-info">
                                        <p class="role-name" id="topRole2">-</p>
                                        <div class="role-bar">
                                            <div class="role-fill" id="topScore2"></div>
                                        </div>
                                        <p class="role-confidence" id="topConf2">-</p>
                                    </div>
                                </div>
                                <div class="role-item rank-3">
                                    <div class="rank-badge">3</div>
                                    <div class="role-info">
                                        <p class="role-name" id="topRole3">-</p>
                                        <div class="role-bar">
                                            <div class="role-fill" id="topScore3"></div>
                                        </div>
                                        <p class="role-confidence" id="topConf3">-</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="job-fit-section">
                            <h3>Job Role Fit Analysis</h3>
                            <p class="fit-subtitle">Enter a specific job role to analyze your fit</p>
                            <div class="job-fit-input">
                                <input type="text" id="jobRoleInput" placeholder="e.g., Full Stack Developer, Data Scientist, DevOps Engineer...">
                                <button class="btn btn-primary" id="analyzeFitBtn">Analyze Fit</button>
                            </div>

                            <div id="fitResult" style="display: none;" class="fit-result">
                                <h4>Your Fit Analysis for <strong id="analyzedRole">-</strong></h4>
                                <div class="fit-gauge">
                                    <div class="fit-bar">
                                        <div class="fit-progress" id="fitScore"></div>
                                    </div>
                                    <p class="fit-percentage"><strong id="fitPercentage">-</strong></p>
                                </div>
                                <div class="fit-details">
                                    <div class="fit-detail">
                                        <span class="detail-label">Skills Match</span>
                                        <span class="detail-value" id="skillsMatch">-</span>
                                    </div>
                                    <div class="fit-detail">
                                        <span class="detail-label">Experience Level</span>
                                        <span class="detail-value" id="expLevel">-</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-actions">
                            <button class="btn btn-secondary" id="backStep3">Back</button>
                            <button class="btn btn-accent" id="downloadReport">Download Report</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-main">
                    <div class="footer-branding">
                        <h4>Smart Career Advisor</h4>
                        <p>AI-powered career guidance using machine learning and NLP</p>
                    </div>
                    <div class="footer-links-section">
                        <h5>Quick Links</h5>
                        <ul class="footer-links-list">
                            <li><a href="index.html">Home</a></li>
                            <li><a href="dashboard.html">Dashboard</a></li>
                            <li><a href="resume_analyzer.html">Resume Analyzer</a></li>
                            <li><a href="about.html">About Us</a></li>
                        </ul>
                    </div>
                    <div class="footer-links-section">
                        <h5>Resources</h5>
                        <ul class="footer-links-list">
                            <li><a href="about.html#terms">Terms & Conditions</a></li>
                            <li><a href="mailto:support@smartcareeradvisor.com">Contact Us</a></li>
                            <li><a href="about.html">Privacy Policy</a></li>
                        </ul>
                    </div>
                </div>
                <div class="footer-bottom">
                    <p>&copy; 2024 Smart Career Advisor. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>

    <div class="ai-assistant">
        <button class="ai-button" id="aiButton" title="AI Assistant">
            <svg viewBox="0 0 24 24" fill="currentColor">
                <circle cx="12" cy="12" r="10" fill="none" stroke="currentColor" stroke-width="2"/>
                <path d="M12 6v12M6 12h12" stroke="currentColor" stroke-width="1.5"/>
                <circle cx="12" cy="12" r="2" fill="currentColor"/>
            </svg>
        </button>
        <div class="ai-panel" id="aiPanel" style="display: none;">
            <div class="ai-header">
                <h4>AI Assistant</h4>
                <button class="ai-close" id="aiClose">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="ai-messages" id="aiMessages"></div>
            <div class="ai-input-group">
                <input type="text" id="aiInput" placeholder="Ask me something..." class="ai-input">
                <button class="ai-send" id="aiSend">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 L4.13399899,1.16346273 C3.34915502,0.9 2.40734225,0.9 1.77946707,1.4429026 C0.994623095,2.0766819 0.837654326,3.0192662 1.15159189,3.97788954 L3.03521743,10.4188826 C3.03521743,10.5759799 3.19218622,10.7330773 3.50612381,10.7330773 L16.6915026,11.5185642 C16.6915026,11.5185642 17.1624089,11.5185642 17.1624089,12.0157788 C17.1624089,12.5129934 16.6915026,12.4744748 16.6915026,12.4744748 Z"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <script src="js/main.js" defer></script>
    <script src="js/resume-analyzer.js" defer></script>
</body>
</html>
